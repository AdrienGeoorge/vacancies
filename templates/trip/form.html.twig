{% extends 'base.html.twig' %}

{% block title %}
    {% if app.request.get('_route') != 'trip_new' %}
        {{ app_name }} - Nouveau voyage
    {% else %}
        {{ app_name }} - Modification du voyage : {{ trip.name }}
    {% endif %}
{% endblock %}

{% block content %}
    {{ form_start(form) }}
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 px-4 md:px-8">
        <div class="col-1 flex flex-col gap-4">
            {% if app.request.get('_route') != 'trip_new' %}
                <a href="{{ path('trip_show', {'trip': trip.id}) }}" class="shadow rounded-2xl py-2.5 px-5 bg-gray-700 text-white dark:bg-white dark:text-gray-700
                        w-full font-bold text-center m-auto border-2 border-gray-500 dark:border-gray-300 p-3 flex items-center gap-4 justify-start
                        transition-all duration-300 ease-in-out focus:shadow-outline focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                        <path fill-rule="evenodd"
                              d="M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z"
                              clip-rule="evenodd"></path>
                    </svg>

                    Revenir aux détails du voyage
                </a>
            {% endif %}
            <div class="shadow rounded-3xl bg-box dark:bg-box-dark py-6 px-8">
                <div class="text-2xl font-poppins-semi-bold">
                    On part où cette fois ?
                </div>
                <div class="mb-5 text-sm font-poppins">
                    Entre le pays ou la ville de destination ou donne un nom à ton séjour.
                </div>
                {{ form_widget(form.name) }}
            </div>

            <div class="shadow rounded-3xl bg-box dark:bg-box-dark py-6 px-8">
                <div class="text-2xl font-poppins-semi-bold">
                    On part quand ?
                </div>
                <div class="mb-5 text-sm font-poppins">
                    Tu ne sais pas encore les dates ? Pas de souci, tu peux laisser les champs vide.
                </div>
                <div class="flex flex-col md:flew-row gap-4">
                    {{ form_widget(form.departureDate) }}
                    {{ form_widget(form.returnDate) }}
                </div>
            </div>
        </div>

        <div class="col-2 flex flex-col gap-4">
            <div class="shadow rounded-3xl bg-box dark:bg-box-dark py-6 px-8">
                <div class="text-2xl font-poppins-semi-bold">
                    Quelques détails pour finaliser...
                </div>
                <div class="flex flex-col md:flew-row gap-4">
                    <span>{{ form_label(form.image) }}</span>
                    {{ form_widget(form.image) }}
                </div>

                <button class="mt-5 tracking-wide bg-teal-500 border-2 border-teal-400 text-white w-full py-4
                                    rounded-full flex items-center justify-center hover:bg-teal-700
                                    transition-all duration-300 ease-in-out
                                    focus:shadow-outline focus:outline-none">
                    Enregistrer mon voyage
                </button>
                {% if trip.id %}
                    <a href="{{ path('trip_delete', {'trip': trip.id}, ) }}" class="mt-3 tracking-wide bg-red-500 border-2
                                    border-red-400 text-white w-full py-4
                                    rounded-full flex items-center justify-center hover:bg-red-700
                                    transition-all duration-300 ease-in-out
                                    focus:shadow-outline focus:outline-none">
                        Supprimer ce voyage
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
    {{ form_end(form) }}
{% endblock %}
