{% extends 'trip/base.html.twig' %}

{% block bodyTrip %}
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 items-start">
        <div class="shadow rounded-3xl bg-box dark:bg-box-dark py-3.5 px-6">
            <div class="mb-2 flex flex-row items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path fill-rule="evenodd"
                          d="M2.25 13.5a8.25 8.25 0 0 1 8.25-8.25.75.75 0 0 1 .75.75v6.75H18a.75.75 0 0 1 .75.75 8.25 8.25 0 0 1-16.5 0Z"
                          clip-rule="evenodd"></path>
                    <path fill-rule="evenodd"
                          d="M12.75 3a.75.75 0 0 1 .75-.75 8.25 8.25 0 0 1 8.25 8.25.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75V3Z"
                          clip-rule="evenodd"></path>
                </svg>
                <div class="font-poppins-semi-bold text-xl">Coût du séjour</div>
            </div>
            <div class="flex gap-3 flex-wrap text-sm">
                <div class="w-fit bg-body rounded-full px-3 py-0.5 flex flex-row items-center gap-1.5 text-black">
                    <span class="text-sm">TOTAL</span>
                    <span class="text-lg font-bold">{{ reservedAccommodationsPrice + reservedTransportsPrice }}€</span>
                </div>

                <div class="flex gap-2">
                    <div class="flex items-center gap-1">
                        <div class="budget-pastille bg-teal-500"></div>
                        Déjà payé
                    </div>
                    <div class="flex items-center gap-1">
                        <div class="budget-pastille bg-red-500"></div>
                        Restant à payer
                    </div>
                </div>
            </div>

            <canvas id="budgetChart" class="mx-2 mt-6 mb-2"></canvas>
            <div id="budgetNone" class="mx-2 mt-6 mb-2"></div>
        </div>
        <div class="shadow rounded-3xl bg-box dark:bg-box-dark py-3.5 px-6">
            <div class="mb-2 flex flex-row items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path fill-rule="evenodd"
                          d="M7.5 6v.75H5.513c-.96 0-1.764.724-1.865 1.679l-1.263 12A1.875 1.875 0 0 0 4.25 22.5h15.5a1.875 1.875 0 0 0 1.865-2.071l-1.263-12a1.875 1.875 0 0 0-1.865-1.679H16.5V6a4.5 4.5 0 1 0-9 0ZM12 3a3 3 0 0 0-3 3v.75h6V6a3 3 0 0 0-3-3Zm-3 8.25a3 3 0 1 0 6 0v-.75a.75.75 0 0 1 1.5 0v.75a4.5 4.5 0 1 1-9 0v-.75a.75.75 0 0 1 1.5 0v.75Z"
                          clip-rule="evenodd"></path>
                </svg>
                <div class="font-poppins-semi-bold text-xl">Dépenses</div>
            </div>
            <div class="text-sm font-bold leading-4 mt-3.5">Cliquez sur une catégorie pour obtenir le détail des
                dépenses.
            </div>

            <a href="{{ path('trip_accommodations_index', {'trip': trip.id}) }}"
               class="flex justify-between gap-3 my-4 -ml-2.5 items-center">
                <div class="flex flex-row gap-2 items-center">
                    <div class="bg-body dark:bg-body-dark rounded-full px-2.5 py-1.5 text-xl">&#127976;</div>
                    <div class="leading-3">
                        <div class="text-lg">Logements</div>
                        <small>Hôtel, Auberge, location Airbnb...</small>
                    </div>
                </div>
                <span class="text-lg font-bold">{{ reservedAccommodationsPrice }}€</span>
            </a>

            <a href="{{ path('trip_transports_index', {'trip': trip.id}) }}" class="flex justify-between gap-3 my-4 -ml-2.5 items-center">
                <div class="flex flex-row gap-2 items-center">
                    <div class="bg-body dark:bg-body-dark rounded-full px-2.5 py-1.5 text-xl">&#128646;</div>
                    <div class="leading-3">
                        <div class="text-lg">Transports</div>
                        <small>Avion, train, transports en commun...</small>
                    </div>
                </div>
                <span class="text-lg font-bold">{{ reservedTransportsPrice }}€</span>
            </a>

            <a href="#" class="flex justify-between gap-3 my-4 -ml-2.5 items-center">
                <div class="flex flex-row gap-2 items-center">
                    <div class="bg-body dark:bg-body-dark rounded-full px-2.5 py-1.5 text-xl">&#127903;</div>
                    <div class="leading-3">
                        <div class="text-lg">Activités</div>
                        <small>Musées, parcs d'attractions...</small>
                    </div>
                </div>
                <span class="text-lg font-bold">100€</span>
            </a>

            <a href="#" class="flex justify-between gap-3 my-4 -ml-2.5 items-center">
                <div class="flex flex-row gap-2 items-center">
                    <div class="bg-body dark:bg-body-dark rounded-full px-2.5 py-1.5 text-xl">&#128182;</div>
                    <div class="leading-3">
                        <div class="text-lg">Dépenses diverses</div>
                        <small>Assurance, VISA, forfait mobile...</small>
                    </div>
                </div>
                <span class="text-lg font-bold">100€</span>
            </a>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('showTrip') }}
{% endblock %}